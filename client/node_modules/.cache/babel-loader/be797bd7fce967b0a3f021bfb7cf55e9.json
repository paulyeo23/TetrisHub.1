{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\Rocket Academy\\\\TetrisHub.1\\\\client\\\\src\\\\components\\\\Register\\\\Register.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useParams } from \"react\";\nimport { Container, Row, Alert, Button, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { countryList } from \"./country.mjs\";\nimport * as module from \"../infoFunctions\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || \"http://localhost:3001\";\n\nconst Register = _ref => {\n  _s();\n\n  let {\n    setUsername\n  } = _ref;\n  const [Info, setInfo] = useState({});\n  const [loginDetails, setLoginDetails] = useState({});\n  const [msg, setMsg] = useState(\"\");\n  const navigate = useNavigate();\n\n  function loginCheck(e) {\n    e.preventDefault();\n\n    if (loginDetails.password !== loginDetails.password2) {\n      setMsg(\"Both password do not match, please re-enter\");\n    } else {\n      axios.post(`${BACKEND_URL}/register`, {\n        loginDetails\n      }).then(response => {\n        response.data.accepted == true ? alert(\"Accepted\") : alert(\"Email is in use\");\n      }).catch(err => console.log(err));\n    }\n  }\n\n  function details(e) {\n    const {\n      value,\n      name\n    } = e.target;\n    setLoginDetails(prev => ({ ...prev,\n      [name]: value\n    }));\n  }\n\n  function generateCountryList() {\n    let List = [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"0\",\n      children: \"Select a country\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)];\n    countryList.forEach(country => {\n      List.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        value: country.Code2,\n        children: country.Country\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this));\n    });\n    return List;\n  } // useEffect(() => {\n  //   const getInfo = async () => {\n  //     const response = await axios(\"http://localhost:3001/\");\n  //     setInfo(response.data);\n  //   };\n  //   getInfo();\n  //   console.log(\"connected\");\n  // }, []);\n\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: loginCheck,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            onChange: details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            onChange: details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: \"Confirm password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password2\",\n            onChange: details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: details,\n            name: \"email\",\n            id: \"emailInput\",\n            tabindex: \"4\",\n            required: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: \"Confirm Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"confirmEmailInput\",\n            onChange: details,\n            tabindex: \"5\",\n            required: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: details,\n          tabindex: \"6\",\n          name: \"country\",\n          children: generateCountryList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: msg && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"p47K+HbnP0qWX5xisGmFTE2A0EA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","useEffect","useParams","Container","Row","Alert","Button","Col","axios","countryList","module","useSearchParams","useNavigate","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","Register","setUsername","Info","setInfo","loginDetails","setLoginDetails","msg","setMsg","navigate","loginCheck","e","preventDefault","password","password2","post","then","response","data","accepted","alert","catch","err","console","log","details","value","name","target","prev","generateCountryList","List","forEach","country","push","Code2","Country"],"sources":["C:/Users/user/Documents/Rocket Academy/TetrisHub.1/client/src/components/Register/Register.jsx"],"sourcesContent":["import { useState, useEffect, useParams } from \"react\";\r\nimport { Container, Row, Alert, Button, Col } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { countryList } from \"./country.mjs\";\r\nimport * as module from \"../infoFunctions\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst BACKEND_URL =\r\n  process.env.REACT_APP_BACKEND_URL || \"http://localhost:3001\";\r\n\r\nconst Register = ({ setUsername }) => {\r\n  const [Info, setInfo] = useState({});\r\n  const [loginDetails, setLoginDetails] = useState({});\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  function loginCheck(e) {\r\n    e.preventDefault();\r\n    if (loginDetails.password !== loginDetails.password2) {\r\n      setMsg(\"Both password do not match, please re-enter\");\r\n    } else {\r\n      axios\r\n        .post(`${BACKEND_URL}/register`, {\r\n          loginDetails,\r\n        })\r\n        .then((response) => {\r\n          response.data.accepted == true\r\n            ? alert(\"Accepted\")\r\n            : alert(\"Email is in use\");\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  function details(e) {\r\n    const { value, name } = e.target;\r\n    setLoginDetails((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  function generateCountryList() {\r\n    let List = [<option value=\"0\">Select a country</option>];\r\n    countryList.forEach((country) => {\r\n      List.push(<option value={country.Code2}>{country.Country}</option>);\r\n    });\r\n    return List;\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   const getInfo = async () => {\r\n  //     const response = await axios(\"http://localhost:3001/\");\r\n  //     setInfo(response.data);\r\n  //   };\r\n  //   getInfo();\r\n\r\n  //   console.log(\"connected\");\r\n  // }, []);\r\n\r\n  return (\r\n    <Container className=\"login-container\">\r\n      <h1>Registration</h1>\r\n      <form onSubmit={loginCheck}>\r\n        <Row>\r\n          <Col>Username:</Col>\r\n          <Col>\r\n            <input name=\"username\" onChange={details} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>Password:</Col>\r\n          <Col>\r\n            <input type=\"password\" name=\"password\" onChange={details} />{\" \"}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>Confirm password:</Col>\r\n          <Col>\r\n            <input type=\"password\" name=\"password2\" onChange={details} />{\" \"}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>Email:</Col>\r\n          <Col>\r\n            <input\r\n              type=\"text\"\r\n              onChange={details}\r\n              name=\"email\"\r\n              id=\"emailInput\"\r\n              tabindex=\"4\"\r\n              required=\"required\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>Confirm Email:</Col>\r\n          <Col>\r\n            <input\r\n              type=\"text\"\r\n              id=\"confirmEmailInput\"\r\n              onChange={details}\r\n              tabindex=\"5\"\r\n              required=\"required\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <select onChange={details} tabindex=\"6\" name=\"country\">\r\n            {generateCountryList()}\r\n          </select>\r\n        </Row>\r\n        <Row>\r\n          <Button type=\"submit\">Register</Button>\r\n        </Row>\r\n        <Row>{msg && <Alert variant=\"danger\">{msg}</Alert>}</Row>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}