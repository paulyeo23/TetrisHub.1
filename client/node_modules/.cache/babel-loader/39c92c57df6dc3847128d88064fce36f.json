{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\Rocket Academy\\\\TetrisHub.1\\\\client\\\\src\\\\components\\\\Register\\\\UploadPicture.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useParams } from \"react\";\nimport { Container, Row, Alert, Button, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { countryList } from \"./country.mjs\";\nimport * as module from \"../infoFunctions\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || \"http://localhost:3001\";\n\nconst Upload = _ref => {\n  _s();\n\n  let {\n    setUsername\n  } = _ref;\n  const [Info, setInfo] = useState({});\n  const [Photo, setPhoto] = useState({});\n  const [image, setImage] = useState({\n    preview: \"\",\n    data: \"\"\n  });\n  const [status, setStatus] = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"file\", image.data);\n    const response = await fetch(`${BACKEND_URL}/upload/profilerequest`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (response) setStatus(response.statusText);\n  };\n\n  const handleFileChange = e => {\n    const img = {\n      preview: URL.createObjectURL(e.target.files[0]),\n      data: e.target.files[0]\n    };\n    setImage(img);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Upload to server\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), image.preview && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image.preview,\n      width: \"100\",\n      height: \"100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), status && /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Upload, \"/rmJrhVgv62+ZbLOuH2SfljDm80=\");\n\n_c = Upload;\nexport default Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["useState","useEffect","useParams","Container","Row","Alert","Button","Col","axios","countryList","module","useSearchParams","useNavigate","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","Upload","setUsername","Info","setInfo","Photo","setPhoto","image","setImage","preview","data","status","setStatus","handleSubmit","e","preventDefault","formData","FormData","append","response","fetch","method","body","statusText","handleFileChange","img","URL","createObjectURL","target","files"],"sources":["C:/Users/user/Documents/Rocket Academy/TetrisHub.1/client/src/components/Register/UploadPicture.jsx"],"sourcesContent":["import { useState, useEffect, useParams } from \"react\";\r\nimport { Container, Row, Alert, Button, Col } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { countryList } from \"./country.mjs\";\r\nimport * as module from \"../infoFunctions\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst BACKEND_URL =\r\n  process.env.REACT_APP_BACKEND_URL || \"http://localhost:3001\";\r\n\r\nconst Upload = ({ setUsername }) => {\r\n  const [Info, setInfo] = useState({});\r\n  const [Photo, setPhoto] = useState({});\r\n\r\n  const [image, setImage] = useState({ preview: \"\", data: \"\" });\r\n  const [status, setStatus] = useState(\"\");\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append(\"file\", image.data);\r\n    const response = await fetch(`${BACKEND_URL}/upload/profilerequest`, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n    if (response) setStatus(response.statusText);\r\n  };\r\n\r\n\r\n\r\n\r\n  const handleFileChange = (e) => {\r\n    const img = {\r\n      preview: URL.createObjectURL(e.target.files[0]),\r\n      data: e.target.files[0],\r\n    };\r\n    setImage(img);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Upload to server</h1>\r\n      {image.preview && <img src={image.preview} width=\"100\" height=\"100\" />}\r\n      <hr></hr>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"file\" name=\"file\" onChange={handleFileChange}></input>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      {status && <h4>{status}</h4>}\r\n    </div>\r\n  );\r\n};\r\nexport default Upload;\r\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,SAA9B,QAA+C,OAA/C;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,KAAzB,EAAgCC,MAAhC,EAAwCC,GAAxC,QAAmD,iBAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAO,KAAKC,MAAZ,MAAwB,kBAAxB;AACA,SAASC,eAAT,EAA0BC,WAA1B,QAA6C,kBAA7C;;AAEA,MAAMC,WAAW,GACfC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,IAAqC,uBADvC;;AAGA,MAAMC,MAAM,GAAG,QAAqB;EAAA;;EAAA,IAApB;IAAEC;EAAF,CAAoB;EAClC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,EAAD,CAAlC;EAEA,MAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoBxB,QAAQ,CAAC;IAAEyB,OAAO,EAAE,EAAX;IAAeC,IAAI,EAAE;EAArB,CAAD,CAAlC;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsB5B,QAAQ,CAAC,EAAD,CAApC;;EACA,MAAM6B,YAAY,GAAG,MAAOC,CAAP,IAAa;IAChCA,CAAC,CAACC,cAAF;IACA,IAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;IACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBX,KAAK,CAACG,IAA9B;IACA,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEvB,WAAY,wBAAhB,EAAyC;MACnEwB,MAAM,EAAE,MAD2D;MAEnEC,IAAI,EAAEN;IAF6D,CAAzC,CAA5B;IAIA,IAAIG,QAAJ,EAAcP,SAAS,CAACO,QAAQ,CAACI,UAAV,CAAT;EACf,CATD;;EAcA,MAAMC,gBAAgB,GAAIV,CAAD,IAAO;IAC9B,MAAMW,GAAG,GAAG;MACVhB,OAAO,EAAEiB,GAAG,CAACC,eAAJ,CAAoBb,CAAC,CAACc,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB,CADC;MAEVnB,IAAI,EAAEI,CAAC,CAACc,MAAF,CAASC,KAAT,CAAe,CAAf;IAFI,CAAZ;IAIArB,QAAQ,CAACiB,GAAD,CAAR;EACD,CAND;;EAQA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEGlB,KAAK,CAACE,OAAN,iBAAiB;MAAK,GAAG,EAAEF,KAAK,CAACE,OAAhB;MAAyB,KAAK,EAAC,KAA/B;MAAqC,MAAM,EAAC;IAA5C;MAAA;MAAA;MAAA;IAAA,QAFpB,eAGE;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE;MAAM,QAAQ,EAAEI,YAAhB;MAAA,wBACE;QAAO,IAAI,EAAC,MAAZ;QAAmB,IAAI,EAAC,MAAxB;QAA+B,QAAQ,EAAEW;MAAzC;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,EAQGb,MAAM,iBAAI;MAAA,UAAKA;IAAL;MAAA;MAAA;MAAA;IAAA,QARb;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAYD,CAxCD;;GAAMV,M;;KAAAA,M;AAyCN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}